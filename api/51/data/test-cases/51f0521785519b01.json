{"uid":"51f0521785519b01","name":"test_user_creates_build_type","fullName":"tests.api_tests.test_build_type.TestBuildType#test_user_creates_build_type","historyId":"e6b95d197d4f1546767afdae0e467aab","time":{"start":1743521084564,"stop":1743521084564,"duration":0},"description":"User should be able to create build type","descriptionHtml":"<p>User should be able to create build type</p>\n","status":"broken","statusMessage":"dynaconf.vendor.box.exceptions.BoxKeyError: \"'DynaBox' object has no attribute 'superusertoken'\"","statusTrace":"self = <test_build_type.TestBuildType object at 0x7fe032e43410>\n\n    def setup_method(self): #метод, который выполняется перед тестами\n        super().setup_method()\n        \"\"\" Подключает API-сессию ко всем тестам \"\"\"\n        self.specifications = Specifications()\n        self.base_url = self.specifications.config.servers.dev.base_url\n        #Получаем текущие настройки per_project_permissions\n>       permissions_request = ServerAuthSettingRequest(self.specifications.superUserSpec(), Endpoint.AUTH_SETTINGS.url)\n\nmain/framework/base_api_test.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nmain/api/specs/specifications.py:33: in superUserSpec\n    auth = \"\", self.config.servers.dev.superusertoken\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/dynaconf/utils/boxing.py:18: in evaluate\n    value = f(dynabox, item, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/dynaconf/utils/boxing.py:41: in __getattr__\n    return super().__getattr__(n_item, *args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nA = <Box: {'base_url': 'http://172.17.0.1:8111', 'internal_base_url': 'http://172.17.0.1:8111', 'selenoid_url': 'http://172.17.0.1:4444/wd/hub', 'username': 'admin', 'password': 'admin'}>\nitem = 'superusertoken'\n\n    def __getattr__(A,item):\n    \tB=item\n    \ttry:\n    \t\ttry:C=A.__getitem__(B,_ignore_default=_G)\n    \t\texcept KeyError:C=object.__getattribute__(A,B)\n    \texcept AttributeError as E:\n    \t\tif B=='__getstate__':raise BoxKeyError(B)from _A\n    \t\tif B==_H:raise BoxError('_box_config key must exist')from _A\n    \t\tif A._box_config[_E]:\n    \t\t\tD=A._safe_attr(B)\n    \t\t\tif D in A._box_config[_C]:return A.__getitem__(A._box_config[_C][D])\n    \t\tif A._box_config[_J]:return A.__get_default(B)\n>   \t\traise BoxKeyError(str(E))from _A\nE     dynaconf.vendor.box.exceptions.BoxKeyError: \"'DynaBox' object has no attribute 'superusertoken'\"\n\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/dynaconf/vendor/box/box.py:176: BoxKeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1743521084565,"stop":1743521084607,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_xunit_setup_method_fixture_TestBuildType","time":{"start":1743521084608,"stop":1743521084636,"duration":28},"status":"broken","statusMessage":"dynaconf.vendor.box.exceptions.BoxKeyError: \"'DynaBox' object has no attribute 'superusertoken'\"\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/_pytest/fixtures.py\", line 891, in call_fixture_func\n    fixture_result = next(generator)\n                     ^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/_pytest/python.py\", line 821, in xunit_setup_method_fixture\n    _call_with_optional_argument(func, method)\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/_pytest/python.py\", line 717, in _call_with_optional_argument\n    func()\n  File \"/home/runner/work/teamcity_test_framework/teamcity_test_framework/main/framework/base_api_test.py\", line 18, in setup_method\n    permissions_request = ServerAuthSettingRequest(self.specifications.superUserSpec(), Endpoint.AUTH_SETTINGS.url)\n                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/teamcity_test_framework/teamcity_test_framework/main/api/specs/specifications.py\", line 33, in superUserSpec\n    auth = \"\", self.config.servers.dev.superusertoken\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/dynaconf/utils/boxing.py\", line 18, in evaluate\n    value = f(dynabox, item, *args, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/dynaconf/utils/boxing.py\", line 41, in __getattr__\n    return super().__getattr__(n_item, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/dynaconf/vendor/box/box.py\", line 176, in __getattr__\n    raise BoxKeyError(str(E))from _A\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"afterStages":[],"labels":[{"name":"severity","value":"critical"},{"name":"story","value":"User creates a build type successfully"},{"name":"feature","value":"Build Type Management"},{"name":"tag","value":"crud"},{"name":"tag","value":"positive"},{"name":"tag","value":"regression"},{"name":"parentSuite","value":"tests.api_tests"},{"name":"suite","value":"test_build_type"},{"name":"subSuite","value":"TestBuildType"},{"name":"host","value":"fv-az1360-572"},{"name":"thread","value":"4170-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api_tests.test_build_type"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":0,"unknown":0,"total":3},"items":[{"uid":"6880b3aa4892164a","reportUrl":"https://BonbonCola.github.io/teamcity_test_framework/api/50//#testresult/6880b3aa4892164a","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1743520578109,"stop":1743520578109,"duration":0}},{"uid":"9513079850f603ce","reportUrl":"https://BonbonCola.github.io/teamcity_test_framework/api/49//#testresult/9513079850f603ce","status":"broken","statusDetails":"requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)","time":{"start":1743519772357,"stop":1743519772357,"duration":0}}]},"tags":["crud","regression","positive"]},"source":"51f0521785519b01.json","parameterValues":[]}